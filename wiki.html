<html>
  <head>
    <title>Artist Info</title>
  </head>
  <body>
    <h1>Enter Artist Name:</h1>
    <form>
      <input type="text" id="artistName" name="artistName">
      <br><br>
      <input type="button" value="Get Info" onclick="getInfo()">
    </form>
    <h2 id="tracks"></h2>

    <script>
      function getInfo() {
        // Retrieve the input value from the text box
        var artistName = document.getElementById("artistName").value;
        
        // Construct the Spotify API URL to retrieve top tracks data
        var spotifyUrl = "https://api.spotify.com/v1/search?q=" + artistName + "&type=artist&limit=1";
        var spotifyToken = ""; // Insert your Spotify API token here
        
        // Send an AJAX request to retrieve the artist ID
        var xhr1 = new XMLHttpRequest();
        xhr1.open("GET", spotifyUrl);
        xhr1.setRequestHeader("Authorization", "Bearer " + spotifyToken);
        xhr1.onreadystatechange = function() {
          if (xhr1.readyState === 4 && xhr1.status === 200) {
            var spotifyData = JSON.parse(xhr1.responseText);
            var artistId = spotifyData.artists.items[0].id;
            var tracksUrl = "https://api.spotify.com/v1/artists/" + artistId + "/top-tracks?market=US";
            
            // Send an AJAX request to retrieve top tracks data
            var xhr2 = new XMLHttpRequest();
            xhr2.open("GET", tracksUrl);
            xhr2.setRequestHeader("Authorization", "Bearer " + spotifyToken);
            xhr2.onreadystatechange = function() {
              if (xhr2.readyState === 4 && xhr2.status === 200) {
                var tracksData = JSON.parse(xhr2.responseText);
                var tracks = tracksData.tracks.map(function(track) {
                  return {
                    name: track.name,
                    danceability: track.danceability,
                    tempo: track.tempo,
                    valence: track.valence,
                    acousticness: track.acousticness,
                    energy: track.energy
                  };
                });
                var tracksHtml = "<table><tr><th>Name</th><th>Danceability</th><th>Tempo</th><th>Valence</th><th>Acousticness</th><th>Energy</th></tr>";
                tracks.forEach(function(track) {
                  tracksHtml += "<tr><td>" + track.name + "</td><td>" + track.danceability + "</td><td>" + track.tempo + "</td><td>" + track.valence + "</td><td>" + track.acousticness + "</td><td>" + track.energy + "</td></tr>";
                });
                tracksHtml += "</table>";
                document.getElementById("tracks").innerHTML = tracksHtml;
              }
            };
            xhr2.send();
          }
        };
        xhr1.send();
      }
    </script>
  </body>
</html>
